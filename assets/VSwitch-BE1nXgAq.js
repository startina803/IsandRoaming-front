import{g as ae,p as le,L as Ve,E as H,ax as ne,ay as ie,l as k,az as Y,z,F as J,s as we,B as Ce,u as oe,aA as se,aB as $,aC as Z,c as d,b as f,a7 as M,aD as be,I as E,d as K,aE as ue,aF as Ie,aG as re,aH as Se,aI as De,aJ as Fe,aK as Pe,aL as Be,n as ee,q as Ae,aM as Re,U as ze,aN as Ee,ah as _e}from"./index-BMScu3kp.js";import{V as Te}from"./VChip-DYDHGzff.js";import{a as te,m as xe}from"./VSelect-BYcfePkR.js";function Ne(){function e(c){var a,o;return[...((a=c.dataTransfer)==null?void 0:a.items)??[]].filter(l=>l.kind==="file").map(l=>l.webkitGetAsEntry()).filter(Boolean).length>0||[...((o=c.dataTransfer)==null?void 0:o.files)??[]].length>0}async function u(c){var o,l;const i=[],a=[...((o=c.dataTransfer)==null?void 0:o.items)??[]].filter(s=>s.kind==="file").map(s=>s.webkitGetAsEntry()).filter(Boolean);if(a.length)for(const s of a){const V=await ce(s,de(".",s));i.push(...V.map(w=>w.file))}else i.push(...((l=c.dataTransfer)==null?void 0:l.files)??[]);return i}return{handleDrop:u,hasFilesOrFolders:e}}function ce(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((c,i)=>{e.isFile?e.file(o=>c([{file:o,path:u}]),i):e.isDirectory&&e.createReader().readEntries(async o=>{const l=[];for(const s of o)l.push(...await ce(s,de(u,s)));c(l)})})}function de(e,u){return u.isDirectory?`${e}/${u.name}`:e}const Me=le({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...re({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>ne(e).every(u=>u!=null&&typeof u=="object")},...Ie({clearable:!0})},"VFileInput"),Ge=ae()({name:"VFileInput",inheritAttrs:!1,props:Me(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,u){let{attrs:c,emit:i,slots:a}=u;const{t:o}=Ve(),l=H(e,"modelValue",e.modelValue,t=>ne(t),t=>!e.multiple&&Array.isArray(t)?t[0]:t),{isFocused:s,focus:V,blur:w}=ie(e),C=k(()=>typeof e.showSize!="boolean"?e.showSize:void 0),b=k(()=>(l.value??[]).reduce((t,n)=>{let{size:m=0}=n;return t+m},0)),I=k(()=>Y(b.value,C.value)),S=k(()=>(l.value??[]).map(t=>{const{name:n="",size:m=0}=t;return e.showSize?`${n} (${Y(m,C.value)})`:n})),L=k(()=>{var n;const t=((n=l.value)==null?void 0:n.length)??0;return e.showSize?o(e.counterSizeString,t,I.value):o(e.counterString,t)}),_=z(),T=z(),r=z(),p=J(()=>s.value||e.active),y=k(()=>["plain","underlined"].includes(e.variant)),v=we(!1),{handleDrop:O,hasFilesOrFolders:D}=Ne();function F(){var t;r.value!==document.activeElement&&((t=r.value)==null||t.focus()),s.value||V()}function U(t){var n;(n=r.value)==null||n.click()}function j(t){i("mousedown:control",t)}function G(t){var n;(n=r.value)==null||n.click(),i("click:control",t)}function x(t){t.stopPropagation(),F(),Se(()=>{l.value=[],De(e["onClick:clear"],t)})}function P(t){t.preventDefault(),t.stopImmediatePropagation(),v.value=!0}function g(t){t.preventDefault(),v.value=!1}async function B(t){if(t.preventDefault(),t.stopImmediatePropagation(),v.value=!1,!r.value||!D(t))return;const n=new DataTransfer;for(const m of await O(t))n.items.add(m);r.value.files=n.files,r.value.dispatchEvent(new Event("change",{bubbles:!0}))}return Ce(l,t=>{(!Array.isArray(t)||!t.length)&&r.value&&(r.value.value="")}),oe(()=>{const t=!!(a.counter||e.counter),n=!!(t||a.details),[m,A]=se(c),{modelValue:Le,...fe}=$.filterProps(e),ve=Z.filterProps(e);return d($,E({ref:_,modelValue:e.multiple?l.value:l.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":v.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":y.value},e.class],style:e.style,"onClick:prepend":U},m,fe,{centerAffix:!y.value,focused:s.value}),{...a,default:q=>{let{id:N,isDisabled:R,isDirty:W,isReadonly:Q,isValid:me,hasDetails:he}=q;return d(Z,E({ref:T,prependIcon:e.prependIcon,onMousedown:j,onClick:G,"onClick:clear":x,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},ve,{id:N.value,active:p.value||W.value,dirty:W.value||e.dirty,disabled:R.value,focused:s.value,details:he.value,error:me.value===!1,onDragover:P,onDrop:B}),{...a,default:ye=>{var X;let{props:{class:ge,...pe}}=ye;return f(M,null,[f("input",E({ref:r,type:"file",readonly:Q.value,disabled:R.value,multiple:e.multiple,name:e.name,onClick:h=>{h.stopPropagation(),Q.value&&h.preventDefault(),F()},onChange:h=>{if(!h.target)return;const ke=h.target;l.value=[...ke.files??[]]},onDragleave:g,onFocus:F,onBlur:w},pe,A),null),f("div",{class:K(ge)},[!!((X=l.value)!=null&&X.length)&&!e.hideInput&&(a.selection?a.selection({fileNames:S.value,totalBytes:b.value,totalBytesReadable:I.value}):e.chips?S.value.map(h=>d(Te,{key:h,size:"small",text:h},null)):S.value.join(", "))])])}})},details:n?q=>{var N,R;return f(M,null,[(N=a.details)==null?void 0:N.call(a,q),t&&f(M,null,[f("span",null,null),d(be,{active:!!((R=l.value)!=null&&R.length),value:L.value,disabled:e.disabled},a.counter)])])}:void 0})}),ue({},_,T,r)}}),$e=le({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...re(),...xe()},"VSwitch"),qe=ae()({name:"VSwitch",inheritAttrs:!1,props:$e(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,u){let{attrs:c,slots:i}=u;const a=H(e,"indeterminate"),o=H(e,"modelValue"),{loaderClasses:l}=Fe(e),{isFocused:s,focus:V,blur:w}=ie(e),C=z(),b=z(),I=Pe&&window.matchMedia("(forced-colors: active)").matches,S=J(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),L=Be(),_=J(()=>e.id||`switch-${L}`);function T(){a.value&&(a.value=!1)}function r(p){var y,v;p.stopPropagation(),p.preventDefault(),(v=(y=C.value)==null?void 0:y.input)==null||v.click()}return oe(()=>{const[p,y]=se(c),v=$.filterProps(e),O=te.filterProps(e);return d($,E({ref:b,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":a.value},l.value,e.class]},p,v,{modelValue:o.value,"onUpdate:modelValue":D=>o.value=D,id:_.value,focused:s.value,style:e.style}),{...i,default:D=>{let{id:F,messagesId:U,isDisabled:j,isReadonly:G,isValid:x}=D;const P={model:o,isValid:x};return d(te,E({ref:C},O,{modelValue:o.value,"onUpdate:modelValue":[g=>o.value=g,T],id:F.value,"aria-describedby":U.value,type:"checkbox","aria-checked":a.value?"mixed":void 0,disabled:j.value,readonly:G.value,onFocus:V,onBlur:w},y),{...i,default:g=>{let{backgroundColorClasses:B,backgroundColorStyles:t}=g;return f("div",{class:K(["v-switch__track",I?void 0:B.value]),style:ee(t.value),onClick:r},[i["track-true"]&&f("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](P)]),i["track-false"]&&f("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](P)])])},input:g=>{let{inputNode:B,icon:t,backgroundColorClasses:n,backgroundColorStyles:m}=g;return f(M,null,[B,f("div",{class:K(["v-switch__thumb",{"v-switch__thumb--filled":t||e.loading},e.inset||I?void 0:n.value]),style:ee(e.inset?void 0:m.value)},[i.thumb?d(Ae,{defaults:{VIcon:{icon:t,size:"x-small"}}},{default:()=>[i.thumb({...P,icon:t})]}):d(Re,null,{default:()=>[e.loading?d(Ee,{name:"v-switch",active:!0,color:x.value===!1?void 0:S.value},{default:A=>i.loader?i.loader(A):d(_e,{active:A.isActive,color:A.color,indeterminate:!0,size:"16",width:"2"},null)}):t&&d(ze,{key:String(t),icon:t,size:"x-small"},null)]})])])}})}})}),ue({},b)}});export{Ge as V,qe as a};
